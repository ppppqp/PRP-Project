{"ast":null,"code":"import * as d3 from \"d3\";\nimport _ from \"lodash\";\n\nconst draw = ({\n  data,\n  width,\n  height\n}) => {\n  d3.select(\".vis-linechart > *\").remove();\n  let margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 40\n  }; //const width = props.width - margin.left - margin.right;\n  //const height = props.height - margin.top - margin.bottom;\n\n  let svg = d3.select(\".vis-linechart\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  data.forEach(function (d) {\n    d.year = +d.year;\n    d.datum = +d.datum;\n  }); // Add X axis --> it is a date format\n\n  let x = d3.scaleTime().domain(d3.extent(data, function (d) {\n    return +d.year;\n  })).range([0, width]);\n  svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)); // Add Y axis\n\n  var y = d3.scaleLinear().domain([0, d3.max(data, function (d) {\n    return +d.datum;\n  })]).range([height, 0]);\n  svg.append(\"g\").call(d3.axisLeft(y)); // Add the line\n\n  svg.append(\"path\").datum(data).attr(\"fill\", \"none\").attr(\"stroke\", \"steelblue\").attr(\"stroke-width\", 1.5).attr(\"d\", d3.line().x(function (d) {\n    return x(d.year);\n  }).y(function (d) {\n    return y(d.datum);\n  }));\n};\n\nexport default draw;","map":{"version":3,"sources":["/Users/panqp/Documents/GitHub/PRP-Project/hw4/src/charts/LineChart/vis.js"],"names":["d3","_","draw","data","width","height","select","remove","margin","top","right","bottom","left","svg","append","attr","forEach","d","year","datum","x","scaleTime","domain","extent","range","call","axisBottom","y","scaleLinear","max","axisLeft","line"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,KAAR;AAAeC,EAAAA;AAAf,CAAD,KAA6B;AACxCL,EAAAA,EAAE,CAACM,MAAH,CAAU,oBAAV,EAAgCC,MAAhC;AACA,MAAIC,MAAM,GAAG;AAAEC,IAAAA,GAAG,EAAE,EAAP;AAAWC,IAAAA,KAAK,EAAE,EAAlB;AAAsBC,IAAAA,MAAM,EAAE,EAA9B;AAAkCC,IAAAA,IAAI,EAAE;AAAxC,GAAb,CAFwC,CAGxC;AACA;;AACA,MAAIC,GAAG,GAAGb,EAAE,CACTM,MADO,CACA,gBADA,EAEPQ,MAFO,CAEA,KAFA,EAGPC,IAHO,CAGF,OAHE,EAGOX,KAAK,GAAGI,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAHpC,EAIPK,IAJO,CAIF,QAJE,EAIQV,MAAM,GAAGG,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAJrC,EAKPG,MALO,CAKA,GALA,EAMPC,IANO,CAMF,WANE,EAMW,eAAeP,MAAM,CAACI,IAAtB,GAA6B,GAA7B,GAAmCJ,MAAM,CAACC,GAA1C,GAAgD,GAN3D,CAAV;AAQAN,EAAAA,IAAI,CAACa,OAAL,CAAa,UAAUC,CAAV,EAAa;AACxBA,IAAAA,CAAC,CAACC,IAAF,GAAS,CAACD,CAAC,CAACC,IAAZ;AACAD,IAAAA,CAAC,CAACE,KAAF,GAAU,CAACF,CAAC,CAACE,KAAb;AACD,GAHD,EAbwC,CAkBxC;;AACA,MAAIC,CAAC,GAAGpB,EAAE,CACPqB,SADK,GAELC,MAFK,CAGJtB,EAAE,CAACuB,MAAH,CAAUpB,IAAV,EAAgB,UAAUc,CAAV,EAAa;AAC3B,WAAO,CAACA,CAAC,CAACC,IAAV;AACD,GAFD,CAHI,EAOLM,KAPK,CAOC,CAAC,CAAD,EAAIpB,KAAJ,CAPD,CAAR;AAQAS,EAAAA,GAAG,CACAC,MADH,CACU,GADV,EAEGC,IAFH,CAEQ,WAFR,EAEqB,iBAAiBV,MAAjB,GAA0B,GAF/C,EAGGoB,IAHH,CAGQzB,EAAE,CAAC0B,UAAH,CAAcN,CAAd,CAHR,EA3BwC,CAgCxC;;AACA,MAAIO,CAAC,GAAG3B,EAAE,CACP4B,WADK,GAELN,MAFK,CAEE,CACN,CADM,EAENtB,EAAE,CAAC6B,GAAH,CAAO1B,IAAP,EAAa,UAAUc,CAAV,EAAa;AACxB,WAAO,CAACA,CAAC,CAACE,KAAV;AACD,GAFD,CAFM,CAFF,EAQLK,KARK,CAQC,CAACnB,MAAD,EAAS,CAAT,CARD,CAAR;AASAQ,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBW,IAAhB,CAAqBzB,EAAE,CAAC8B,QAAH,CAAYH,CAAZ,CAArB,EA1CwC,CA4CxC;;AACAd,EAAAA,GAAG,CACAC,MADH,CACU,MADV,EAEGK,KAFH,CAEShB,IAFT,EAGGY,IAHH,CAGQ,MAHR,EAGgB,MAHhB,EAIGA,IAJH,CAIQ,QAJR,EAIkB,WAJlB,EAKGA,IALH,CAKQ,cALR,EAKwB,GALxB,EAMGA,IANH,CAOI,GAPJ,EAQIf,EAAE,CACC+B,IADH,GAEGX,CAFH,CAEK,UAAUH,CAAV,EAAa;AACd,WAAOG,CAAC,CAACH,CAAC,CAACC,IAAH,CAAR;AACD,GAJH,EAKGS,CALH,CAKK,UAAUV,CAAV,EAAa;AACd,WAAOU,CAAC,CAACV,CAAC,CAACE,KAAH,CAAR;AACD,GAPH,CARJ;AAiBD,CA9DD;;AAgEA,eAAejB,IAAf","sourcesContent":["import * as d3 from \"d3\";\nimport _ from \"lodash\";\n\nconst draw = ({ data, width, height }) => {\n  d3.select(\".vis-linechart > *\").remove();\n  let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n  //const width = props.width - margin.left - margin.right;\n  //const height = props.height - margin.top - margin.bottom;\n  let svg = d3\n    .select(\".vis-linechart\")\n    .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  data.forEach(function (d) {\n    d.year = +d.year;\n    d.datum = +d.datum;\n  });\n\n  // Add X axis --> it is a date format\n  let x = d3\n    .scaleTime()\n    .domain(\n      d3.extent(data, function (d) {\n        return +d.year;\n      })\n    )\n    .range([0, width]);\n  svg\n    .append(\"g\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(x));\n\n  // Add Y axis\n  var y = d3\n    .scaleLinear()\n    .domain([\n      0,\n      d3.max(data, function (d) {\n        return +d.datum;\n      }),\n    ])\n    .range([height, 0]);\n  svg.append(\"g\").call(d3.axisLeft(y));\n\n  // Add the line\n  svg\n    .append(\"path\")\n    .datum(data)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"steelblue\")\n    .attr(\"stroke-width\", 1.5)\n    .attr(\n      \"d\",\n      d3\n        .line()\n        .x(function (d) {\n          return x(d.year);\n        })\n        .y(function (d) {\n          return y(d.datum);\n        })\n    );\n};\n\nexport default draw;\n"]},"metadata":{},"sourceType":"module"}